
.. note:: WARNING WARNING WARNING:  This is the Digital Rebar v2 product documentation.  That product line is EOL as of September 2017.  Please refer to the new Digital Rebar Provision v3 documentation:  http:\/\/provision.readthedocs.io\/en\/tip\/README.html

.. index::
  pair: DNS Name Filter; API

.. _api_dns_name_filter:

DNS Name Filter APIs
~~~~~~~~~~~~~~~~~~~~

DNS Name Filter Routes
^^^^^^^^^^^^^^^^^^^^^^

+----------+------------------------------------+-----------+-----------------------------------+------------+
| Verb     | URL                                | Options   | Returns                           | Comments   |
+==========+====================================+===========+===================================+============+
| GET      | /api/v2/dns\_name\_filters         | none      | DNS Name Filter List              | -          |
+----------+------------------------------------+-----------+-----------------------------------+------------+
| POST     | /api/v2/dns\_name\_filters         | none      | New DNS Name Filter               | -          |
+----------+------------------------------------+-----------+-----------------------------------+------------+
| GET      | /api/v2/dns\_name\_filters/[:id]   | none      | Existing DNS Name Filter Detail   | -          |
+----------+------------------------------------+-----------+-----------------------------------+------------+
| PUT      | /api/v2/dns\_name\_filters/[:id]   | none      | Update DNS Name Filter Detail     | -          |
+----------+------------------------------------+-----------+-----------------------------------+------------+
| DELETE   | /api/v2/dns\_name\_filters/[:id]   | none      | Delete a DNS Name Filter          | -          |
+----------+------------------------------------+-----------+-----------------------------------+------------+

JSON fields
-----------

+---------------+-----------+------------+-------------------------------------------------------------------+
| Attribute     | Type      | Settable   | Note                                                              |
+===============+===========+============+===================================================================+
| id            | Integer   | No         | Numeric id of filter                                              |
+---------------+-----------+------------+-------------------------------------------------------------------+
| name          | String    | Yes        | Descriptive name of the filter                                    |
+---------------+-----------+------------+-------------------------------------------------------------------+
| priority      | Integer   | Yes        | Unique priority to order evaluation of filters                    |
+---------------+-----------+------------+-------------------------------------------------------------------+
| matcher       | String    | Yes        | A string that is used to match a network allocation               |
+---------------+-----------+------------+-------------------------------------------------------------------+
| template      | String    | Yes        | A string that is used to generate a DNS name for a matched node   |
+---------------+-----------+------------+-------------------------------------------------------------------+
| system        | String    | Yes        | A string that references a DNS Management Service to update       |
+---------------+-----------+------------+-------------------------------------------------------------------+
| Created\_at   | String    | No         | Unicode - date format                                             |
+---------------+-----------+------------+-------------------------------------------------------------------+
| Updated\_at   | String    | No         | Unicode - date format                                             |
+---------------+-----------+------------+-------------------------------------------------------------------+

Minimum fields needed for create - name, priority, matcher, template,
and system.

.. index::
  pair: DNS Name Entry; API

.. _api_dns_name_entry:

DNS Name Entry Routes
^^^^^^^^^^^^^^^^^^^^^

+--------+------------------------------------+-----------+----------------------------------+------------+
| Verb   | URL                                | Options   | Returns                          | Comments   |
+========+====================================+===========+==================================+============+
| GET    | /api/v2/dns\_name\_entries         | none      | DNS Name Entry List              | -          |
+--------+------------------------------------+-----------+----------------------------------+------------+
| GET    | /api/v2/dns\_name\_entries/[:id]   | none      | Existing DNS Name Entry Detail   | -          |
+--------+------------------------------------+-----------+----------------------------------+------------+

JSON fields
-----------

+-----------------------+-----------+------------+------------------------------------------------+
| Attribute             | Type      | Settable   | Note                                           |
+=======================+===========+============+================================================+
| id                    | Integer   | No         | Numeric id of filter                           |
+-----------------------+-----------+------------+------------------------------------------------+
| name                  | String    | No         | DNS Name for the network allocation            |
+-----------------------+-----------+------------+------------------------------------------------+
| rr\_type              | String    | No         | DNS RR Type of record                          |
+-----------------------+-----------+------------+------------------------------------------------+
| network\_allocation   | Integer   | No         | Id reference to network allocation             |
+-----------------------+-----------+------------+------------------------------------------------+
| dns\_name\_filter     | Integer   | No         | Id reference to the matching DNS Name Filter   |
+-----------------------+-----------+------------+------------------------------------------------+
| Created\_at           | String    | No         | Unicode - date format                          |
+-----------------------+-----------+------------+------------------------------------------------+
| Updated\_at           | String    | No         | Unicode - date format                          |
+-----------------------+-----------+------------+------------------------------------------------+

